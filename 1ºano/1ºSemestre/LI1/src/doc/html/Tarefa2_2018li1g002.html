<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2_2018li1g002</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa2_2018li1g002</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Testes</a></li><li><a href="#g:2">Fun&#231;&#245;es principais da Tarefa 2.</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo define fun&#231;&#245;es comuns da Tarefa 2 do trabalho pr&#225;tico.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:testesT2">testesT2</a> :: [(Int, <a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a>, <a href="LI11819.html#t:Estado" title="LI11819">Estado</a>)]</li><li class="src short"><a href="#v:jogada">jogada</a> :: Int -&gt; <a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a> -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a></li><li class="src short"><a href="#v:podeDisparar">podeDisparar</a> :: Int -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; <a href="LI11819.html#t:Arma" title="LI11819">Arma</a> -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>]</li><li class="src short"><a href="#v:verificaDisparo">verificaDisparo</a> :: Int -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; <a href="LI11819.html#t:Arma" title="LI11819">Arma</a> -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>]</li><li class="src short"><a href="#v:municao">municao</a> :: <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; <a href="LI11819.html#t:Arma" title="LI11819">Arma</a> -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a></li><li class="src short"><a href="#v:indiceTank">indiceTank</a> :: [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; [Int]</li><li class="src short"><a href="#v:qualJogador">qualJogador</a> :: [Int] -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>]</li><li class="src short"><a href="#v:choqueTank">choqueTank</a> :: <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; Bool</li><li class="src short"><a href="#v:checaMov">checaMov</a> :: [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; Bool</li><li class="src short"><a href="#v:buscarMatriz">buscarMatriz</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool</li><li class="src short"><a href="#v:podeAvancar">podeAvancar</a> :: <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; Bool</li><li class="src short"><a href="#v:podeMover">podeMover</a> :: <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Testes</h1></a><div class="top"><p class="src"><a id="v:testesT2" class="def">testesT2</a> :: [(Int, <a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a>, <a href="LI11819.html#t:Estado" title="LI11819">Estado</a>)] <a href="#v:testesT2" class="selflink">#</a></p><div class="doc"><p>Testes unit&#225;rios da Tarefa 2.</p></div></div><a href="#g:2" id="g:2"><h1>Fun&#231;&#245;es principais da Tarefa 2.</h1></a><div class="top"><p class="src"><a id="v:jogada" class="def">jogada</a> <a href="#v:jogada" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>O identificador do <code><a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a></code> que efetua a jogada.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a></td><td class="doc"><p>A <code><a href="LI11819.html#t:Jogada" title="LI11819">Jogada</a></code> a efetuar.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a></td><td class="doc"><p>O <code><a href="LI11819.html#t:Estado" title="LI11819">Estado</a></code> anterior.</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a></td><td class="doc"><p>O <code><a href="LI11819.html#t:Estado" title="LI11819">Estado</a></code> resultante ap&#243;s o jogador efetuar a jogada.</p></td></tr></table></div><div class="doc"><p>Efetua uma jogada. </p></div></div><div class="top"><p class="src"><a id="v:podeDisparar" class="def">podeDisparar</a> :: Int -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; <a href="LI11819.html#t:Arma" title="LI11819">Arma</a> -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] <a href="#v:podeDisparar" class="selflink">#</a></p><div class="doc"><p>Esta funcao adciona o disparo do jogador que esta a fazer a jogada na lista
de disparo, verificando primeiro se esse jogador pode der facto disparar, 
na funcao <code><a href="Tarefa2_2018li1g002.html#v:verificaDisparo" title="Tarefa2_2018li1g002">verificaDisparo</a></code> </p></div></div><div class="top"><p class="src"><a id="v:verificaDisparo" class="def">verificaDisparo</a> :: Int -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; <a href="LI11819.html#t:Arma" title="LI11819">Arma</a> -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] <a href="#v:verificaDisparo" class="selflink">#</a></p><div class="doc"><p>Esta funcao funciona em conjunto com a funcao anterior, onde esta verifica se o
jogador pode de facto disparar (se o jogador tem vidas (&gt;0) e se o jogador ainda tem municoes</p></div></div><div class="top"><p class="src"><a id="v:municao" class="def">municao</a> :: <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; <a href="LI11819.html#t:Arma" title="LI11819">Arma</a> -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> <a href="#v:municao" class="selflink">#</a></p><div class="doc"><p>Apos o uso de um disparo especial (Laser ou Choque) retiramos 1 as muni&#231;oes
disponiveis desse disparo caso as muni&#231;oes disponiveis sejam 0 ou o jogador esteja
com 0 vidas nao realizamos o disparo </p></div></div><div class="top"><p class="src"><a id="v:indiceTank" class="def">indiceTank</a> :: [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; [Int] <a href="#v:indiceTank" class="selflink">#</a></p><div class="doc"><p>A fun&#231;ao <code><a href="Tarefa2_2018li1g002.html#v:indiceTank" title="Tarefa2_2018li1g002">indiceTank</a></code> vai buscar a [Disparo] quem &#233; que esta a efetuar 
o disparo choque (os indices dos jogadores). De seguida na <code>qualJodador</code> usando os 
indices anteriormente adequiridos verifico quais os Jogadores que estao a efetuar
o choque. De seguida em <code><a href="Tarefa2_2018li1g002.html#v:choqueTank" title="Tarefa2_2018li1g002">choqueTank</a></code> verificamos se o jogador que esta a tentar mover
consegue mover (se esta dentro da area afetada pelo choque) caso isto seja 
verdade o jogador nao se consegue mover com a unica exce&#231;ao do jogador que
dispara o choque esse consegue movimentar-se normalmente caso isto seja falso
e o jogador esta fora da area do choque este consegue se moviemntar normalmente.
E para finalizar este proceso temos a <code><a href="Tarefa2_2018li1g002.html#v:checaMov" title="Tarefa2_2018li1g002">checaMov</a></code> que recebe todas as fun&#231;oes anteriormente 
referidas e efetua o resultado pretendido </p></div></div><div class="top"><p class="src"><a id="v:qualJogador" class="def">qualJogador</a> :: [Int] -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] <a href="#v:qualJogador" class="selflink">#</a></p><div class="doc"><p>Funcao auxiliar</p></div></div><div class="top"><p class="src"><a id="v:choqueTank" class="def">choqueTank</a> :: <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; Bool <a href="#v:choqueTank" class="selflink">#</a></p><div class="doc"><p>Funcao auxilia</p></div></div><div class="top"><p class="src"><a id="v:checaMov" class="def">checaMov</a> :: [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; Bool <a href="#v:checaMov" class="selflink">#</a></p><div class="doc"><p>Jun&#231;ao de axuliares</p></div></div><div class="top"><p class="src"><a id="v:buscarMatriz" class="def">buscarMatriz</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; Bool <a href="#v:buscarMatriz" class="selflink">#</a></p><div class="doc"><p>Vai ao mapa verificar se o tanque pode se mover para uma posicao,ou seja, vai verificar
se numa certa posicao &#233; um Bloco (Destrutivel ou Insdestrutivel) ou &#233; Vazia, 
caso seja Bloco devolve um False (que significa que o tanque nao se pode movimentar para
essa possicao) e caso seja Vazia (significa que o tanque pode se movimentar para essa posicao </p></div></div><div class="top"><p class="src"><a id="v:podeAvancar" class="def">podeAvancar</a> :: <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; Bool <a href="#v:podeAvancar" class="selflink">#</a></p><div class="doc"><p>Verifica se na posicao em que o tanque vai se mover existe outro tanque, caso exista
um outro tanque devolve um False(que quer dizer que nao se pode movimentar), caso nao exista
devolve um True (que significa que se pode movimentar) </p></div></div><div class="top"><p class="src"><a id="v:podeMover" class="def">podeMover</a> :: <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; <a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a> <a href="#v:podeMover" class="selflink">#</a></p><div class="doc"><p>Movimenta o tanque para uma certa posicao, conforme a direcao, caso esse posicao
esteja Vazio, ou seja, o tanque so &#233; movimentado para essa posicao se nesta posicao
nao tenha nenhum tipo de Bloco (Destrutivel ou Indestrutivel) ou nenhum outro tanque, como
tambem verifica se o tanque que se quer mover ainda tem vidas ou nao-</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>